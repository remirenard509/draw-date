    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    # Bloquer les fichiers cachés (ex : .env, .gitignore)
    <FilesMatch "^\.">
    Require all denied
    </FilesMatch>

    # Bloquer l'accès au dossier .git
    RedirectMatch 404 /\.git

    # Bloquer le fichier .env
    <Files .env>
    Order allow,deny
    Deny from all
    </Files>


<VirtualHost *:80>
    ServerName draw-date.duckdns.org

    DocumentRoot /var/www/html

    # Permettre à certbot d'écrire et valider les challenges
    Alias /.well-known/acme-challenge/ "/var/www/certbot/.well-known/acme-challenge/"
    <Directory "/var/www/certbot/.well-known/acme-challenge/">
        AllowOverride None
        Options None
        Require all granted
    </Directory>

    # (optionnel) redirection vers HTTPS
    # Redirect permanent / https://draw-date.duckdns.org/
</VirtualHost>

<VirtualHost *:443>
    ServerName draw-date.duckdns.org

    DocumentRoot /usr/local/apache2/htdocs

    SSLEngine on
    SSLCertificateFile /etc/letsencrypt/live/draw-date.duckdns.org/fullchain.pem
    SSLCertificateKeyFile /etc/letsencrypt/live/draw-date.duckdns.org/privkey.pem

    # Optionnel : activer les logs d’erreur SSL
    ErrorLog /usr/local/apache2/logs/error_ssl.log
    CustomLog /usr/local/apache2/logs/access_ssl.log combined
</VirtualHost>
